<form class="d-flex flex-column row-gap-3 w-75 mx-auto needs-validation" {{#game.id}}action="/edit-game"{{/game.id}}{{^game.id}}action="/game"{{/game.id}} method="POST"
    enctype="multipart/form-data">
    {{#game.id}}
    <input type="hidden" value="{{game.id}}" name ="id">
    {{/game.id}}
    <div>
        <label for="inputTitle" class="form-label">Title</label>
        <input type="text" class="form-control" id="inputTitle" placeholder="e.g. Hollow Knight: Silksong" name="title"
            value="{{game.title}}" required>
        <div class="invalid-feedback">Please enter a title.</div>
    </div>

    <div>
        <label for="inputDescription" class="form-label">Description</label>
        <textarea class="form-control" id="inputDescription" placeholder="Briefly describe the videogame..." rows="4"
            name="description">{{game.description}}</textarea>
        <div class="invalid-feedback">Please add a description.</div>
    </div>

    <div>
        <legend>Genres</legend>
        <div id="genreSelect">
            {{#GENRES}}
            <div class="form-check">
                <input class="form-check-input" type="checkbox" value="{{name}}" id="Genre{{name}}" name="genres"
                    {{#checked}}checked{{/checked}}>
                <label class="form-check-label" for="Genre{{name}}">
                    {{name}}
                </label>
            </div>
            {{/GENRES}}
        </div>
    </div>

    <div>
        <legend>Platforms</legend>
        <div id="platformSelect">
            {{#PLATFORMS}}
            <div class="form-check">
                <input class="form-check-input" type="checkbox" value="{{name}}" id="Platform{{name}}" name="platforms"
                    {{#checked}}checked{{/checked}}>
                <label class="form-check-label" for="Platform{{name}}">
                    {{name}}
                </label>
            </div>
            {{/PLATFORMS}}
        </div>
    </div>

    <div>
        <label for="inputDate">Release Date</label>
        <input type="date" class="form-control" id="inputDate" required name="release_date"
            value="{{game.release_date}}" />
    </div>

    <div>
        <label for="inputDeveloper" class="form-label">Developer</label>
        <input type="text" class="form-control" id="inputDeveloper" placeholder="e.g. Team Cherry" required
            name="developer" value="{{game.developer}}">
        <div class="invalid-feedback">Please enter a developer.</div>
    </div>

    <div>
        <label for="PEGISelector" class="form-label">PEGI Rating</label>
<select class="form-select" id="PEGISelector" required name="pegi_rating">
    {{#PEGI}}
    <option value="{{value}}" {{#selected}}selected{{/selected}}>{{value}}</option>
    {{/PEGI}}
</select>
    </div>

    <div>
        {{#game.cover_image}}
        <div class="col-md-4 col-12 mb-3 mb-md-0">
            <img src="{{game.cover_image}}" alt="Cover of {{title}}" class="img-fluid rounded shadow" />
        </div>
        {{/game.cover_image}}

        {{^game.cover_image}}
        <label for="inputImage" class="form-label">Upload Cover Image</label>
        <input class="form-control" type="file" id="inputImage" name="cover_image" accept="image/*"
            value="{{game.cover_image}}" required>
        <div class="form-text">Accepted formats: JPG, PNG, WEBP, etc.</div>
        <div class="invalid-feedback">Please select a cover image.</div>
        {{/game.cover_image}}
    </div>

    <div class="d-flex justify-content-center gap-3 mt-4 flex-wrap">
        <button type="submit" class="btn btn-primary">Save</button>
        <a href="/" class="btn btn-secondary" role="button">Cancel</a>
    </div>
</form>